{% liquid
  assign is_mega = false
  if has_mega_item and block_type != blank
    assign is_mega = true
  endif
%}

<li class="m-menu-mobile__item m-menu-mobile__item--no-submenu" data-url="{{ link.url }}">
  <a href="{{ link.url }}" class="m-menu-mobile__link"{% if is_mega %} data-toggle-submenu="1"{% endif %}>
    {{ link.title }}
  </a>
  {% if is_mega %}
    <span class="m-menu-mobile__toggle-button" data-toggle-submenu="1">
      <svg
        fill="currentColor"
        stroke="currentColor"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 256 512"><path d="M17.525 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L205.947 256 10.454 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L34.495 36.465c-4.686-4.687-12.284-4.687-16.97 0z" /></svg>
    </span>
  {% endif %}
  {% if is_mega %}
    <div class="m-megamenu-mobile m-megamenu-mobile--level-1">
      <div class="m-megamenu-mobile__wrapper">
        <button class="m-menu-mobile__back-button" data-level="1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 16 17"><path fill="currentColor" d="M8.12109 15.9141c-.21093.1875-.41015.1875-.59765 0L.175781 8.53125c-.210937-.1875-.210937-.375 0-.5625L7.52344.585938c.1875-.1875.38672-.1875.59765 0l.70313.703122c.1875.1875.1875.38672 0 .59766L3.375 7.33594h11.9883c.2812 0 .4219.14062.4219.42187v.98438c0 .28125-.1407.42187-.4219.42187H3.375l5.44922 5.44924c.1875.2109.1875.4101 0 .5976l-.70313.7032z" /></svg>
          <span>{{ link.title }}</span>
        </button>
        <div class="m-megamenu-mobile__block">
          {{ block_type }}
        </div>
      </div>
    </div>
  {% endif %}
</li>