class MVisitorCounter extends HTMLElement{constructor(){super(),this.selectors={liveViews:[".m-product-live-views"],stockCountdowns:[".prod__stock-countdown"]}}connectedCallback(){this.init()}init(){try{this.domNodes=queryDomNodes(this.selectors),this.initLiveViews()}catch(e){}}initLiveViews(){this.domNodes.liveViews&&this.domNodes.liveViews.forEach((e=>{if("true"!==e.dataset.initialized){const i=e.querySelector(".live-views-text"),t=e.dataset;if(i){const e=i.innerHTML;i.innerHTML=e.replace(t.liveViewsCurrent,`<span class="live-view-numb">${t.liveViewsCurrent}</span>`),this.changeLiveViewsNumber(i,t)}e.dataset.initialized=!0}}))}changeLiveViewsNumber(e,i){const t=e.querySelector(".live-view-numb"),{liveViewsDuration:s,liveViewsMax:n,liveViewsMin:o}=i,r=Number(s)||5,c=Number(n)||30,l=Number(o)||20;t&&setInterval((()=>{const e=Math.floor(Math.random()*(c-l+1))+l;t.textContent=e}),1e3*r)}}customElements.define("m-visitiors-counter",MVisitorCounter);